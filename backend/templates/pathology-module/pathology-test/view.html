{% extends 'dashboard/base.html' %}
{% load static %}
{% block content %}

<div class="card shadow mb-4 mx-4" >
  <!-- Header -->
  <div class="card-header bg-primary d-flex justify-content-between align-items-center">
    <h5 class="mb-0 text-light">
      Pathology Test Details
    </h5>
    <a href="/pathology/test/list" class="btn btn-primary">
      <i class="bi bi-arrow-left"></i> Back to List
    </a>
  </div>

  <!-- Body -->
  <div class="card-body">
    <div class="table-responsive mb-4">
      <table class="table table-bordered align-middle mb-0">
        <tbody>
          <tr>
            <th>Test Name</th>
            <td>{{ pathology_test.test_name }}</td>
            <th>Short Name</th>
            <td>{{ pathology_test.short_name }}</td>
          </tr>
          <tr>
            <th>Test Type</th>
            <td>{{ pathology_test.test_type }}</td>
            <th>Sample Type</th>
            <td>{{ pathology_test.sample_type }}</td>
          </tr>
          <tr>
            <th>Total Amount</th>
            <td>{{ pathology_test.total_amount }}</td>
            <th>Precaution</th>
            <td>{{ pathology_test.precaution }}</td>
          </tr>
          <tr>
            <th>Created At</th>
            <td>{{ pathology_test.created_at }}</td>
            <th>Updated At</th>
            <td>{{ pathology_test.updated_at }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    {% if pathology_test.title or pathology_test.component_name %}
    <h5 class="mt-4 mb-3 text-dark">Test Components</h5>
    <div class="table-responsive">
      <table class="table table-bordered table-sm align-middle mb-0">
        <thead class="table-secondary text-dark">
          <tr>
            <th>Title</th>
            <th>Component Name</th>
            <th>Unit</th>
            <th>Result</th>
            <th>Status</th>
            <th>Reference Range</th>
          </tr>
        </thead>
        <tbody>
          {% for component in test_components %}
          <tr>
            <td>{{ component.title }}</td>
            <td>{{ component.name }}</td>
            <td>{{ component.unit }}</td>
            <td>{{ component.result }}</td>
            <td>{{ component.status }}</td>
            <td>{{ component.reference }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% endif %}
  </div>
</div>

{% endblock content %}
